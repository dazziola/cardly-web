(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{6276:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return a(6787)}])},7572:function(e,s,a){"use strict";a.d(s,{U:function(){return r}});let r={"auth/email-already-in-use":"Email already in use."}},6787:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return _}});var r=a(5893),i=a(7294),n=a(2175),t=a(2465),l=a(5104),d=a(7350),o=a(8420),u=a(3100),m=a(8267),c=a(5370),h=a(3655),x=a(8911),g=a(5591),j=a(8715),N=a(9222),f=a(295),p=a(7484),w=a(75),b=a(9332),S=a(1664),v=a.n(S),C=a(7572),I=a(3349);function _(){let[e,s]=(0,i.useState)(!1),[a,S]=(0,i.useState)(""),[_,y]=(0,i.useState)(!1),[q,R]=(0,I.F_)(l.I),E=(0,b.useRouter)(),z=(0,d.p)(),k=(0,n.TA)({initialValues:{firstName:"",lastName:"",username:"",email:"",password:""},onSubmit:e=>{A(e)},validate:e=>{let s={};return e.firstName?e.firstName.length<2&&(s.firstName="First name is too short. Must be at least 2 characters long."):s.firstName="First name is required",e.lastName?e.lastName.length<2&&(s.lastName="Last name is too short. Must be at least 2 characters long."):s.lastName="Last name is required",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(s.email="Invalid email address"):s.email="Required",e.username?e.username.length<4&&(s.username="Username too short. Must be at least 4 characters long."):s.username="Required",e.password?e.password.length<6&&(s.password="Password too short. Must be at least 6 characters long."):s.password="Required",s}});(0,i.useEffect)(()=>{q&&!R&&E.push("/dashboard")},[R,q]);let A=async e=>{try{console.log("handleSignUp"),y(!0);let s=await (0,t.Xb)(l.I,e.email,e.password);s.user,console.log(s),y(!1),E.push("/dashboard"),console.log("sending",e)}catch(e){console.error("sending",e),S(e.message),y(!1),z({title:"There was an error registering.",description:C.U[e.code],status:"error",duration:5e3,isClosable:!0,position:"bottom-right"})}};return(0,r.jsx)("form",{onSubmit:k.handleSubmit,children:(0,r.jsxs)(o.K,{spacing:5,children:[(0,r.jsxs)(o.K,{direction:{base:"column",sm:"row"},children:[(0,r.jsx)(u.xu,{w:"full",children:(0,r.jsxs)(m.NI,{id:"firstName",isRequired:!0,children:[(0,r.jsx)(c.l,{children:"First Name"}),(0,r.jsx)(h.I,{id:"firstName",name:"firstName",type:"text",onChange:k.handleChange,value:k.values.firstName,disabled:_})]})}),(0,r.jsx)(u.xu,{w:"full",children:(0,r.jsxs)(m.NI,{id:"lastName",isRequired:!0,children:[(0,r.jsx)(c.l,{children:"Last Name"}),(0,r.jsx)(h.I,{id:"lastName",name:"lastName",type:"text",onChange:k.handleChange,value:k.values.lastName,disabled:_})]})})]}),k.errors.firstName&&k.touched.firstName&&(0,r.jsx)(x.x,{fontSize:"sm",color:"red.500",children:k.errors.firstName}),k.errors.lastName&&k.touched.lastName&&(0,r.jsx)(x.x,{fontSize:"sm",color:"red.500",children:k.errors.lastName}),(0,r.jsxs)(m.NI,{id:"username",isRequired:!0,children:[(0,r.jsx)(c.l,{children:"Username"}),(0,r.jsx)(h.I,{id:"username",name:"username",type:"text",onChange:k.handleChange,value:k.values.username,disabled:_}),k.errors.username&&k.touched.username&&(0,r.jsx)(x.x,{fontSize:"sm",color:"red.500",children:k.errors.username})]}),(0,r.jsxs)(m.NI,{id:"email",isRequired:!0,children:[(0,r.jsx)(c.l,{children:"Email"}),(0,r.jsx)(h.I,{id:"email",name:"email",type:"text",onChange:k.handleChange,value:k.values.email,disabled:_}),k.errors.email&&k.touched.email&&(0,r.jsx)(x.x,{fontSize:"sm",color:"red.500",children:k.errors.email})]}),(0,r.jsxs)(m.NI,{id:"password",isRequired:!0,children:[(0,r.jsx)(c.l,{children:"Password"}),(0,r.jsxs)(g.B,{children:[(0,r.jsx)(h.I,{id:"password",name:"password",onChange:k.handleChange,value:k.values.password,type:e?"text":"password",disabled:_}),(0,r.jsx)(j.x,{h:"full",children:(0,r.jsx)(N.z,{disabled:_,variant:"ghost",onClick:()=>s(e=>!e),children:e?(0,r.jsx)(p.O,{}):(0,r.jsx)(w.t,{})})})]}),k.errors.password&&k.touched.password&&(0,r.jsx)(x.x,{fontSize:"sm",color:"red.500",children:k.errors.password})]}),(0,r.jsx)(o.K,{spacing:10,pt:2,children:(0,r.jsx)(N.z,{loadingText:"Submitting",colorScheme:"brand",type:"submit",disabled:_,rightIcon:_?(0,r.jsx)(f.$,{}):(0,r.jsx)(r.Fragment,{}),children:"Sign up"})}),(0,r.jsx)(o.K,{pt:6,children:(0,r.jsxs)(x.x,{align:"center",children:["Already a user?"," ",(0,r.jsx)(v(),{color:"blue.400",className:"underline",href:"/login",children:"Login"})]})})]})})}}},function(e){e.O(0,[363,774,888,179],function(){return e(e.s=6276)}),_N_E=e.O()}]);